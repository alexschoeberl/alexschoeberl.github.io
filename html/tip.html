<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
        }
    </style>
</head>

<body>
    <form>
        <p><input type="number" id="price" min="1" step="0.01" inputmode="decimal" pattern="[0-9]*"
                style="width:150px;">
        </p>
        <p><select id="type" style="width:150px;">
                <option value="default">Default</option>
                <option value="exceptional">Excep</option>
                <option value="low">Low</option>
            </select>
        </p>
        <button onclick="calculate(event)">Submit</button>
    </form>
    <p id="result" style="font-size: small;"></p>
    <script>
        function calculate() {
            event.preventDefault();

            const price = document.getElementById('price').valueAsNumber;
            const type = document.getElementById('type').value;
            const elem_result = document.getElementById('result');

            let sum = 0;
            if (type === 'default' && price < 50)
                sum = Math.ceil(price + price * 0.08);
            else if (type === 'default' && price < 110)
                sum = Math.round(price + price * 0.08);
            else if (type === 'default')
                sum = Math.floor(price + price * 0.08);

            else if (type === 'exceptional' && price < 40)
                sum = Math.ceil(price + price * 0.1);
            else if (type === 'exceptional' && price < 100)
                sum = Math.round(price + price * 0.1);
            else if (type === 'exceptional')
                sum = Math.round(price + price * 0.09);

            else if (type === 'low' && price < 30)
                sum = Math.ceil(price + price * 0.06);
            else if (type === 'low')
                sum = Math.round(price + price * 0.05);

            if (sum > 65 && (sum + 1) % 10 == 0)
                sum += 1;

            elem_result.textContent = sum + " (" + (sum - price).toFixed(1) + ")";
        }
    </script>
</body>

</html>